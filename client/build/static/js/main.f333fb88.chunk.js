(this["webpackJsonpecommerce-mern"]=this["webpackJsonpecommerce-mern"]||[]).push([[0],{125:function(e,t,c){},127:function(e,t,c){},128:function(e,t,c){},160:function(e,t,c){},161:function(e,t,c){},185:function(e,t,c){},187:function(e,t,c){},286:function(e,t,c){},289:function(e,t,c){},290:function(e,t,c){},292:function(e,t,c){},293:function(e,t,c){},294:function(e,t,c){},295:function(e,t,c){},296:function(e,t,c){"use strict";c.r(t);var s=c(4),a=c(2),r=c.n(a),n=c(25),l=c.n(n),i=(c(160),c(11)),d=(c(161),c.p+"static/media/cart-logo-white.07bf9a70.svg"),o=c(132),j=c(28),b=c(12),m=c(7),h=function(){return{type:m.CART_COLLAPSE}},O=c(42),u=c.n(O),x=c(19),p=c(16),g=c.n(p),v=r.a.createContext({isUserLoggedIn:!1,r:"C",categories:[]}),N=c(1);function f(){var e=Object(b.b)(),t=Object(a.useContext)(v).isUserLoggedIn,c=u.a.get("r")||"C",s=Object(x.useMutation)((function(){return g.a.get("/user/logout")}),{onSuccess:function(t){var c=t.data;sessionStorage.removeItem("isUserLoggedIn"),e({type:m.SUCCESS,payload:c.message})},onError:function(t){var c;sessionStorage.removeItem("isUserLoggedIn"),e({type:m.ERROR,payload:null===t||void 0===t||null===(c=t.response)||void 0===c?void 0:c.data.message})}}).mutate;return Object(N.jsxs)("nav",{className:Object(j.a)("navbar   navbar-expand-lg px-4 py-3"),id:"navbar",children:[Object(N.jsx)("h2",{className:"navbar-brand",children:Object(N.jsx)(i.b,{to:"/",children:"Shopy"})}),Object(N.jsxs)("div",{className:"options ms-auto d-flex align-items-center",id:"options",children:[Object(N.jsxs)("ul",{className:"navbar-nav hide ms-auto d-flex align-items-center",children:["C"===c&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/",className:"nav-link",children:"Home"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/categories",className:"nav-link",children:"Categories"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/about",className:"nav-link",children:"About"})})]}),t?Object(N.jsxs)(N.Fragment,{children:["E"===c||"A"===c?Object(N.jsx)("li",{className:"nav-item nav",children:Object(N.jsx)(i.b,{to:"/admin",className:"nav-link",children:"Admin"})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("li",{className:"nav-item nav",children:Object(N.jsx)(i.b,{to:"/profile",className:"nav-link",children:"Profile"})})}),Object(N.jsx)("li",{className:"nav-item nav",children:Object(N.jsx)("div",{role:"button",className:"nav-link",onClick:s,children:"Logout"})})]}):Object(N.jsxs)(N.Fragment,{children:[" ",Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(i.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(N.jsx)("li",{className:"nav-item nav-cta",children:Object(N.jsx)(i.b,{to:"/register",className:"nav-link",children:"Register"})})]})]}),"C"===c&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"nav-cart ms-1",onClick:function(){return e({type:m.TOGGLE_CART})},children:[Object(N.jsx)("img",{src:d,alt:"cart icon"}),Object(N.jsx)("span",{className:"cart-number",children:"10"})]}),Object(N.jsx)(o.a,{id:"menu-btn",className:"ms-4"})]})]})]})}c(185),c(186);var y=c(8),S=c.p+"static/media/login-svg.699f28a3.svg";c(187);function E(e){var t=e.children;return Object(N.jsx)("div",{className:"form-template",children:Object(N.jsxs)("div",{className:"form-cont shadow",children:[Object(N.jsx)("div",{className:"left",children:Object(N.jsx)("div",{className:"img-cont",children:Object(N.jsx)("img",{src:S,alt:"login-svg"})})}),Object(N.jsx)("div",{className:"right",children:t})]})})}var C=c(6),w=c(10);var R=Object(y.j)((function(){var e=Object(a.useContext)(v).isUserLoggedIn,t=Object(y.g)(),c=Object(b.b)();Object(a.useEffect)((function(){e&&t.push("/")}));var s=w.d({name:w.f().min(3,"Must be 3 characters or more!").required("Required"),email:w.f().email("Must be a valid email!").required("Required"),password:w.f().min(6,"Password must be at least 6 characters or more!").required("Required"),repassword:w.f().oneOf([w.e("password"),null],"Passwords must match!"),employee:w.b(),agreed:w.b().oneOf([!0],"You must agree to the terms & conditions.").required("You must agree to the terms & conditions.")}),r=Object(x.useMutation)((function(e){return g.a.post("/user/register",e)}),{onError:function(e){var t;n=!1,console.log(e.response.data),c({type:m.ERROR,payload:null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data.message})},onSuccess:function(e){var t=e.data;n=!1,console.log(t),c({type:m.SUCCESS,payload:t.message})}}),n=r.isLoading,l=r.mutate;return Object(N.jsxs)(E,{children:[Object(N.jsx)(C.d,{initialValues:{name:"",email:"",password:"",repassword:"",employee:!1,agreed:!1},validationSchema:s,onSubmit:function(e){l(e)},children:function(e){return Object(N.jsxs)(C.c,{children:[Object(N.jsx)("h2",{className:"text-center",children:"Register your account"}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(N.jsx)(C.b,{type:"text",className:"form-control",placeholder:"John Doe",id:"name",name:"name"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"name"})})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(N.jsx)(C.b,{type:"email",className:"form-control",placeholder:"someone@example.com",id:"email",name:"email"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"email"})})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(N.jsx)(C.b,{type:"password",className:"form-control",placeholder:"rhin0runsf@st",id:"password",name:"password"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"password"})})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"repassword",className:"form-label",children:"Confirm Password"}),Object(N.jsx)(C.b,{type:"password",className:"form-control",placeholder:"rhin0runsf@st",id:"repassword",name:"repassword"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"repassword"})})]}),Object(N.jsxs)("div",{className:"mb-3 form-check",children:[Object(N.jsx)(C.b,{type:"checkbox",id:"employee",className:"form-check-input",name:"employee"}),Object(N.jsx)("label",{htmlFor:"employee",className:"form-check-label",children:"Register me as an employee of Shopy"})]}),Object(N.jsxs)("div",{className:"mb-3 form-check",children:[Object(N.jsx)(C.b,{type:"checkbox",id:"agreed",className:"form-check-input",name:"agreed"}),Object(N.jsxs)("label",{htmlFor:"agreed",className:"form-check-label",children:["I hereby agree to all ",Object(N.jsx)("span",{children:"terms and conditions"})," of Shopify."]}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"agreed"})})]}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{type:"submit",className:Object(j.a)("btn submit-btn",Object.keys(e.errors).length>=1&&!e.values.agreed&&"disabled"),value:n?"Registering":"Register my account",disabled:n||Object.keys(e.errors).length>=1&&!e.values.agreed&&!0})})]})}}),Object(N.jsx)("hr",{className:"mx-auto"}),Object(N.jsxs)("p",{className:"text-center",children:["Already have an account ? ",Object(N.jsx)(i.b,{to:"/login",children:"Login"})]})]})}));var k=Object(y.j)((function(){var e=Object(y.g)(),t=Object(a.useContext)(v).isUserLoggedIn;Object(a.useEffect)((function(){t&&e.push("/")}));var c=Object(b.b)(),s=w.d({email:w.f().email("Must be a valid email!").required("Required"),password:w.f().min(6,"Password  must be at least 6 characters long.").required("Required"),remember:w.b().oneOf([!0,!1],null)}),r=Object(x.useMutation)((function(e){return g.a.post("/user/login",e)}),{onSuccess:function(e){var t=e.data;console.log(t),sessionStorage.setItem("isUserLoggedIn",!0),c({type:m.SUCCESS,payload:t.message})},onError:function(e){var t,s,a,r;console.log(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message),sessionStorage.removeItem("isUserLoggedIn"),c({type:m.ERROR,payload:null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message})}}),n=r.mutate,l=r.isLoading;return Object(N.jsxs)(E,{children:[Object(N.jsx)(C.d,{initialValues:{email:"",password:"",remember:!1},validationSchema:s,onSubmit:function(e){n(e)},children:function(e){return Object(N.jsxs)(C.c,{children:[Object(N.jsx)("h2",{className:"text-center",children:"Login"}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{htmlFor:"email",className:"form-label",children:["Email"," "]}),Object(N.jsx)(C.b,{name:"email",type:"email",id:"email",className:"form-control",placeholder:"someone@example.com"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"email"})})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{htmlFor:"password",className:"form-label",children:["Password"," "]}),Object(N.jsx)(C.b,{name:"password",type:"password",id:"password",className:"form-control",placeholder:"rhin0runsf@st"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"password"})})]}),Object(N.jsxs)("div",{className:"mb-3 form-check",children:[Object(N.jsx)(C.b,{name:"remember",type:"checkbox",id:"remember",className:"form-check-input"}),Object(N.jsxs)("label",{htmlFor:"remember",className:"form-check-label",children:["Remember me"," "]})]}),Object(N.jsx)("div",{className:"mb-3",children:Object(N.jsx)("input",{type:"submit",className:Object(j.a)("btn submit-btn",Object.keys(e.errors).length>=1&&"disabled"),value:l?"Logging in":"Login",disabled:l||Object.keys(e.errors).length>=1&&!0})})]})}}),Object(N.jsx)("hr",{className:"mx-auto"}),Object(N.jsxs)("p",{className:"text-center",children:["Don't have an account ? ",Object(N.jsx)(i.b,{to:"/register",children:"Register here "})]})]})})),L=(c(286),c.p+"static/media/shopy_fallback.a3b0051c.svg"),A=c(75);function F(){var e=Object(b.b)(),t=Object(b.c)((function(e){return e.common})).cartExpanded;return Object(N.jsxs)("div",{className:Object(j.a)("cart m-4 pb-3 px-3 border",t&&"expanded"),children:[Object(N.jsxs)("div",{className:"row border-bottom",children:[Object(N.jsx)("div",{className:"col-11 title-row",children:Object(N.jsx)("h2",{className:"text-center pt-3 pb-2",children:"Your Cart"})}),Object(N.jsx)("div",{className:"col-1 close-btn-row",onClick:function(){return e(h())},children:Object(N.jsx)(A.a,{className:"close-btn"})})]}),Object(N.jsxs)("div",{className:"cart-items",children:[Object(N.jsx)(_,{fallbackImage:L,name:"OnePlus Nord",rate:25,quantity:3}),Object(N.jsx)("button",{className:"btn btn-sm btn-outline-secondary show-all-btn mx-auto mt-2 w-100 py-1",children:"Show all cart items"}),Object(N.jsxs)("div",{className:"item p-2 row grand-total",children:[Object(N.jsx)("div",{className:"col d-flex align-items-center",children:Object(N.jsx)("h2",{children:"Grand Total"})}),Object(N.jsxs)("div",{className:"col-2 product-quantity",children:[Object(N.jsx)("span",{children:"Quantity"}),Object(N.jsx)("h6",{children:"6"})]}),Object(N.jsxs)("div",{className:"col-2 product-pricing",children:[Object(N.jsx)("span",{children:"Price"}),Object(N.jsx)("h6",{children:"$255"})]})]}),Object(N.jsx)("button",{className:"btn checkout-btn text-center",children:"Checkout"})]})]})}var _=function(e){var t=e.fallbackImage,c=(e.name,e.rate),s=e.quantity;e.price;return Object(N.jsxs)("div",{className:"item row p-3 border-bottom",children:[Object(N.jsx)("div",{className:"col-2 placeholder-img",children:Object(N.jsx)("img",{src:t,alt:"",className:"cart-placeholder-img"})}),Object(N.jsxs)("div",{className:"col product-detail",children:[Object(N.jsx)("div",{className:"product-name",children:"OnePlus Nord"}),Object(N.jsx)("div",{className:"rate",children:"$25 per item"})]}),Object(N.jsxs)("div",{className:"col-2 product-quantity",children:[Object(N.jsx)("span",{children:"Quantity"}),Object(N.jsx)("h6",{children:s})]}),Object(N.jsxs)("div",{className:"col-2 product-pricing",children:[Object(N.jsx)("span",{children:"Price"}),Object(N.jsxs)("h6",{children:["$",c*s]})]})]})},I=(c(125),c(27)),T=(c(126),c(138)),U=c.n(T);function P(e){var t,c;return Object(N.jsxs)("div",{className:"product",children:[Object(N.jsx)("div",{className:"row img-row",children:Object(N.jsx)("div",{className:"img-cont",children:Object(N.jsx)("img",{src:null!==(t=null===e||void 0===e?void 0:e.productImages[0])&&void 0!==t?t:L,alt:""})})}),Object(N.jsxs)("div",{className:"row detail-row align-items-center",children:[Object(N.jsx)("div",{className:"product-name col-10",children:e.name.length>27?e.name.slice(0,27)+"...":e.name}),Object(N.jsxs)("div",{className:"product-price col-2",children:["$",e.price]})]}),Object(N.jsxs)("div",{className:"row rating-row",children:[Object(N.jsx)("div",{className:"ratings col",children:Object(N.jsx)(U.a,{})}),e.stock>10?Object(N.jsx)("div",{className:"col-4 text-end text-success",children:"Available"}):Object(N.jsx)("div",{className:"col-4 text-end text-danger",children:e.stock<=0?"Out of stock":"Only ".concat(null!==(c=e.stock)&&void 0!==c?c:"few"," left")})]}),Object(N.jsxs)("div",{className:"row buttons-row mt-2",children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(i.b,{to:"view-product",className:"chat-btn btn w-100",children:"View product"})}),Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(i.b,{to:"/add-to-cart",className:"add-to-cart-btn btn w-100",children:"Add to cart"})})]})]})}function D(){return Object(N.jsxs)("div",{className:"product",children:[Object(N.jsx)(I.a,{height:200,borderRadius:10}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"row mb-3",children:[Object(N.jsx)("div",{className:"col-9",children:Object(N.jsx)(I.a,{count:1,width:"90%",inline:!0})}),Object(N.jsx)("div",{className:"col-3",children:Object(N.jsx)(I.a,{count:1,inline:!0})})]}),Object(N.jsxs)("div",{className:"row mb-2",children:[Object(N.jsx)("div",{className:"col-7",children:Object(N.jsx)(I.a,{count:1,width:"90%",inline:!0})}),Object(N.jsx)("div",{className:"col-5",children:Object(N.jsx)(I.a,{count:1,width:"100%",inline:!0})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(I.a,{count:1,className:"py-3",borderRadius:10})}),Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(I.a,{count:1,className:"py-3",borderRadius:10})})]})]})}c(289);var q=c.p+"static/media/gummy-coffee 1.708c94f5.svg",G=c(41),M=["children","onlyFor"];function B(e){var t=e.children,c=e.onlyFor,s=(Object(G.a)(e,M),u.a.get("r")||"C");return Object(N.jsx)(N.Fragment,{children:c.includes(s)?t:Object(N.jsx)("h1",{children:"You don't have permission to view this page."})})}var $=c(46);function Q(){var e=Object(b.b)();return Object(x.useQuery)("products",(function(){return g.a.get("/product")}),{onError:function(t){var c,s;e({type:m.ERROR,payload:null===t||void 0===t||null===(c=t.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message})}})}function H(){var e=Object(a.useContext)(v).categories,t=Q(),c=t.data,r=t.isLoading,n=t.isError,l=t.isSuccess;return l&&(c=c.data.details),Object(N.jsx)(B,{onlyFor:["C"],children:Object(N.jsxs)("div",{className:"homepage",children:[Object(N.jsxs)("div",{className:"page-1",children:[Object(N.jsx)("h2",{className:"page-title",children:"Our featured products"}),Object(N.jsx)("div",{className:"products-list",children:l&&Object($.isEmptyArray)(c)||n?Object(N.jsx)("h4",{children:"Nothing here"}):r?[1,2,3,4,5,6,7,8].map((function(e,t){return Object(N.jsx)(D,{},t)})):c.map((function(e){return Object(a.createElement)(P,Object(s.a)(Object(s.a)({},e),{},{key:e._id}))}))}),Object(N.jsx)("button",{className:"btn mx-auto my-4 px-4 show-more-btn",children:"Show more"})]}),Object(N.jsxs)("div",{className:"page-2",children:[Object(N.jsx)("h2",{className:"page-title",children:"Exciting offers"}),Object(N.jsx)("div",{className:"products-list",children:l&&Object($.isEmptyArray)(c)||n?Object(N.jsx)("h4",{children:"Nothing here"}):r?[1,2,3,4,5,6,7,8].map((function(e,t){return Object(N.jsx)(D,{},t)})):c.map((function(e){return Object(a.createElement)(P,Object(s.a)(Object(s.a)({},e),{},{key:e._id}))}))})]}),Object(N.jsxs)("div",{className:"page-3",children:[Object(N.jsx)("h2",{className:"page-title",children:"Browse by category"}),Object(N.jsx)("div",{className:"categories",children:e&&e.map((function(e,t){return Object(N.jsx)(V,{category:e},t)}))})]})]})})}var V=function(e){var t=e.category;return Object(N.jsxs)("div",{className:"category-item",children:[Object(N.jsx)("div",{className:"img-cont",children:Object(N.jsx)("img",{src:q,alt:""})}),Object(N.jsx)("h5",{className:"category-name text-center p-4",children:t})]})};c(290);function K(){return Object(N.jsxs)("div",{className:"footer",children:[Object(N.jsxs)("section",{children:[Object(N.jsx)("h2",{children:"Shopy"}),Object(N.jsxs)("h6",{children:[" Copyright \xa9 ",(new Date).getFullYear()]})]}),Object(N.jsxs)("section",{children:[Object(N.jsx)("div",{className:"title",children:"Categories"}),Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:" Food & drinks"}),Object(N.jsx)("li",{children:"Food & drinks"}),Object(N.jsx)("li",{children:"Food & drinks"}),Object(N.jsx)("li",{children:"Food & drinks"}),Object(N.jsx)("li",{children:"Food & drinks"}),Object(N.jsx)("li",{children:"Food & drinks"})]})]}),Object(N.jsxs)("section",{children:[Object(N.jsx)("div",{className:"title",children:"Social links"}),Object(N.jsxs)("ul",{children:[Object(N.jsx)("li",{children:"Facebook"}),Object(N.jsx)("li",{children:"Facebook"}),Object(N.jsx)("li",{children:"Facebook"}),Object(N.jsx)("li",{children:"Facebook"}),Object(N.jsx)("li",{children:"Facebook"})]})]})]})}c(127);function z(){return Object(N.jsxs)("div",{className:"customers-page p-3",children:[Object(N.jsxs)("div",{className:"row page-title-row border-bottom  pb-3",children:[Object(N.jsx)("div",{className:"col-3",children:Object(N.jsx)("h2",{className:"page-title m-0",children:"Customers"})}),Object(N.jsx)("div",{className:"col-6",children:Object(N.jsxs)("form",{className:"d-flex align-items-center",children:[Object(N.jsx)("label",{htmlFor:"search",className:"form-label visually-hidden",children:"Search"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"search",placeholder:"Search  customers by name "})]})}),Object(N.jsx)("div",{className:"col-3"})]}),Object(N.jsx)("article",{className:"mt-4 ",children:Object(N.jsxs)("table",{className:"table table-hover table-bordered",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Customer ID"}),Object(N.jsx)("th",{children:"Customer Name"}),Object(N.jsx)("th",{children:"All Orders "}),Object(N.jsx)("th",{children:"Total Spent"}),Object(N.jsx)("th",{children:"Last order placed"}),Object(N.jsx)("th",{children:"Manage Customer"})]})}),Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"3 days ago"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"})]})})]})})]})})]})}function Y(){return Object(N.jsx)("div",{children:Object(N.jsx)("h1",{children:"Dashboard"})})}function J(){return Object(N.jsx)("div",{children:"Employees"})}function X(){return Object(N.jsxs)("div",{className:"orders-page p-3",children:[Object(N.jsxs)("div",{className:"row page-title-row border-bottom  pb-3",children:[Object(N.jsx)("div",{className:"col-3",children:Object(N.jsx)("h2",{className:"page-title m-0",children:"Orders"})}),Object(N.jsx)("div",{className:"col-6",children:Object(N.jsxs)("form",{className:"d-flex align-items-center",children:[Object(N.jsx)("label",{htmlFor:"search",className:"form-label visually-hidden",children:"Search"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"search",placeholder:"Search orders by customer name or product name"})]})}),Object(N.jsx)("div",{className:"col-3"})]}),Object(N.jsx)("article",{className:"mt-4 ",children:Object(N.jsxs)("table",{className:"table table-hover table-bordered",children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"Order ID"}),Object(N.jsx)("th",{children:"Customer Name"}),Object(N.jsx)("th",{children:"Products"}),Object(N.jsx)("th",{children:"Total Quantity"}),Object(N.jsx)("th",{children:"Total Amount"}),Object(N.jsx)("th",{children:"Order Status"}),Object(N.jsx)("th",{children:"Order Actions"})]})}),Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:"1"}),Object(N.jsx)("td",{children:"Abhishek Ram"}),Object(N.jsx)("td",{children:"Phone, Macbook"}),Object(N.jsx)("td",{children:"3"}),Object(N.jsx)("td",{children:"$2000"}),Object(N.jsx)("td",{children:"Ordered"}),Object(N.jsx)("td",{children:Object(N.jsxs)("div",{class:"btn-group",role:"group","aria-label":"Basic mixed styles example",children:[Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-danger",children:"Delete"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-warning",children:"Edit"}),Object(N.jsx)("button",{type:"button",class:"btn btn-sm btn-success",children:"Set Delivered"})]})})]})]})]})})]})}var W=c(47),Z=c.n(W),ee=c(76),te=c(17);c(292);function ce(e){var t;console.log(e);var c=Object(y.i)().url;return Object(N.jsxs)("div",{className:"product",children:[Object(N.jsx)("div",{className:"row img-row",children:Object(N.jsx)("div",{className:"img-cont",children:Object(N.jsx)("img",{src:null!==(t=null===e||void 0===e?void 0:e.productImages[0])&&void 0!==t?t:L,alt:""})})}),Object(N.jsxs)("div",{className:"row detail-row align-items-center",children:[Object(N.jsxs)("div",{className:"product-name col-9",children:[" ",e.name.length>25?e.name.slice(0,25)+"...":e.name]}),Object(N.jsxs)("div",{className:"product-price col-3 text-end",children:["$",e.price]})]}),Object(N.jsx)("div",{className:"row stock-row",children:Object(N.jsxs)("div",{className:"stock",children:["Stock Quantity : ",e.stock," "]})}),Object(N.jsx)("div",{className:"row category-row",children:Object(N.jsxs)("div",{className:"col",children:["Category : ",Object(N.jsxs)("span",{className:"category",children:[" ",e.category]})]})}),Object(N.jsxs)("div",{className:"row buttons-row mt-2",children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(i.b,{to:"".concat(c,"/edit/").concat(e._id),className:"edit-btn btn w-100",children:"Edit product"})}),Object(N.jsx)("div",{className:"col",children:Object(N.jsx)(i.b,{to:"/view-insights",className:"view-insights-btn btn w-100",children:"View insights"})})]})]})}var se=c(18);c(293);function ae(e){var t=e.fileProp,c=e.upload,s=e.productImages,r=void 0===s?[]:s,n=Object(a.useState)(Object(se.a)(r)),l=Object(te.a)(n,2),i=l[0],d=l[1],o=Object(a.useState)((function(){var e;return null!==(e=i[0])&&void 0!==e?e:null})),b=Object(te.a)(o,2),m=b[0],h=b[1],O=Object(a.useState)([]),u=Object(te.a)(O,2),x=(u[0],u[1],Object(a.useState)(!1)),p=Object(te.a)(x,2),v=p[0],f=p[1],y=function(){var e=Object(ee.a)(Z.a.mark((function e(t){var c,s,a,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i.length>8)){e.next=3;break}return e.abrupt("return",alert("Can't upload more than 8 product images. "));case 3:return f(!0),e.next=6,new FormData;case 6:return c=e.sent,e.next=9,c.append("file",t);case 9:return c.append("upload_preset","shopy_cloudinary"),c.append("cloud_name","abhishekram"),e.next=13,g.a.post("https://api.cloudinary.com/v1_1/abhishekram/image/upload",c,{withCredentials:!1});case 13:return s=e.sent,e.next=16,s;case 16:return a=e.sent,r=a.data,e.t0=d,e.t1=[],e.t2=Object(se.a)(i),e.next=23,r.secure_url;case 23:return e.t3=e.sent,e.t4=[e.t3],e.t5=e.t1.concat.call(e.t1,e.t2,e.t4),e.next=28,(0,e.t0)(e.t5);case 28:f(!1),e.next=35;break;case 31:e.prev=31,e.t6=e.catch(0),f(!1),console.log(e.t6.message);case 35:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t(i)}),[i]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"image-display border p-3",children:i.length>0||v?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"image-preview",children:v?Object(N.jsx)(I.a,{height:300,width:300}):Object(N.jsx)("img",{src:m||i[0],alt:""})}),Object(N.jsx)("div",{className:"img-choose border p-2",children:Object(N.jsxs)("div",{className:"options",children:[i.length>0&&i.map((function(e,t){return Object(N.jsx)("img",{src:e,alt:"",className:Object(j.a)(m===e&&"active-image"),onClick:function(){return h(e)}},t)})),v&&Object(N.jsx)(I.a,{height:100,width:100})]})})]}):Object(N.jsx)("div",{className:"image-display",children:Object(N.jsx)("h6",{children:"Upload product images to attract customers."})})}),c&&Object(N.jsxs)("div",{className:"img-input p-3 mt-4 ",children:[Object(N.jsx)(C.b,{type:"file",name:"productImages",id:"productImages",className:"form-control",accept:"image/*",onChange:function(e){c&&y(e.target.files[0])}}),Object(N.jsx)("h5",{children:"+ Upload new images "})]})]})}c(128);function re(e){var t=Object(b.b)(),c=Object(a.useState)([]),r=Object(te.a)(c,2),n=r[0],l=r[1],i=w.d({name:w.f().required("Product name is required."),price:w.c().required("Price is required."),category:w.f().required("Price is required."),stock:w.c().required("Stock number is required."),tags:w.f().required("At least one tag is required."),description:w.f(),productImages:w.a()}),d=Object(x.useMutation)((function(e){return g.a.post("/product/create",e,{withCredentials:!0})}),{onSuccess:function(e){var c=e.data;t({type:m.SUCCESS,payload:c.message})},onError:function(e){var c,s;t({type:m.ERROR,payload:null===e||void 0===e||null===(c=e.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message})}}),o=d.mutate,j=d.isLoading;return Object(N.jsx)(C.d,{initialValues:{name:"",price:"",category:"Uncategorized",stock:"",tags:"",description:"",productImages:[]},validationSchema:i,onSubmit:function(e){var t=e.tags.split(",").map((function(e){return e.trim()})),c=Object.assign({},e,{productImages:n},{tags:t});o(c)},children:function(e){return Object(N.jsxs)("div",{className:"edit-product p-3",children:[Object(N.jsx)("h2",{className:"page-title mb-0",children:"Add product"}),Object(N.jsx)("hr",{}),Object(N.jsx)(C.c,{className:"card p-4",children:Object(N.jsxs)("div",{className:"row gx-4",children:[Object(N.jsxs)("div",{className:"col left-form border-end",children:[Object(N.jsx)("h3",{className:"page-title text-center",children:"Product details"}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Product Name ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"name",type:"text",className:"form-control"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"name"})})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Price ",Object(N.jsx)("small",{children:"(per item)"})," ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"price",type:"number",className:"form-control"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"price"})})]}),Object(N.jsxs)("div",{className:"mb-3 row",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Category",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsxs)(C.b,{as:"select",className:"form-select",id:"category",name:"category",children:[Object(N.jsx)("option",{value:"Uncategorized",children:"Uncategorized"}),Object(N.jsx)("option",{value:"Food & drinks",children:"Food & drinks"}),Object(N.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(N.jsx)("option",{value:"Beauty & cosmetics",children:"Beauty & cosmetics"}),Object(N.jsx)("option",{value:"Kitchen",children:"Kitchen"}),Object(N.jsx)("option",{value:"Clothings",children:"Clothings"}),Object(N.jsx)("option",{value:"Smartphones",children:"Smartphones"})]}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"category"})})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("label",{htmlFor:"stock",className:"form-label",children:["Stock quantity ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"stock",type:"number",className:"form-control"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"stock"})})]})]}),Object(N.jsxs)("div",{className:"mb-3 row",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("label",{htmlFor:"tags",className:"form-label",children:["Tags ",Object(N.jsx)("small",{children:"(comma separated)"})," ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"tags",type:"text",className:"form-control",placeholder:"eg. chilled, summer, relaxing"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"tags"})})]}),Object(N.jsx)("div",{className:"col"})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(N.jsx)(C.b,{as:"textarea",name:"description",id:"description",cols:"30",rows:"7",className:"form-control"})]}),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)("button",{type:"button",className:"btn btn-light btn-lg delete-btn w-100 border mb-2 text-secondary",children:"Cancel"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-lg submit-btn w-100 border",disabled:j,children:j?"Adding product":"Add product"})]})]}),Object(N.jsxs)("div",{className:"col-7 right-form ",children:[Object(N.jsx)("h3",{className:"page-title text-center",children:"Product Images"}),Object(N.jsx)(ae,Object(s.a)(Object(s.a)({upload:!0},e),{},{fileProp:function(e){l(e)}}))]})]})})]})}})}var ne=c(141),le=c(140),ie=c(139),de=function(e){var t=Object(b.b)();return Object(x.useQuery)("editProduct",(function(){return g.a.get("/product/fetch?id=".concat(e))}),{onError:function(e){var c,s;t({type:m.ERROR,payload:null===e||void 0===e||null===(c=e.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message})}})};function oe(e){var t=Object(a.useState)([]),c=Object(te.a)(t,2),r=c[0],n=c[1],l=Object(y.h)().id,i=w.d({name:w.f().required("Product name is required."),price:w.c().required("Price is required."),category:w.f().required("Price is required."),stock:w.c().required("Stock number is required."),tags:w.f().required("At least one tag is required."),description:w.f(),productImages:w.a()}),d=de(l),o=d.data,j=d.isSuccess,b=d.isLoading;return b?Object(N.jsx)("h2",{children:"Loading..."}):(j&&(o=o.data.details,console.log(o)),Object(N.jsx)(C.d,{initialValues:o,validationSchema:i,onSubmit:function(e){var t=e.tags.split(",").map((function(e){return e.trim()}));Object.assign({},e,{productImages:r},{tags:t})},children:function(e){return Object(N.jsxs)("div",{className:"edit-product p-3",children:[Object(N.jsx)("h2",{className:"page-title mb-0",children:"Edit product"}),Object(N.jsx)("hr",{}),Object(N.jsx)(C.c,{className:"card p-4",children:Object(N.jsxs)("div",{className:"row gx-4",children:[Object(N.jsxs)("div",{className:"col left-form border-end",children:[Object(N.jsx)("h3",{className:"page-title text-center",children:"Product details"}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Product Name ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"name",type:"text",className:"form-control"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"name"})})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Price ",Object(N.jsx)("small",{children:"(per item)"})," ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"price",type:"number",className:"form-control"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"price"})})]}),Object(N.jsxs)("div",{className:"mb-3 row",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("label",{htmlFor:"name",className:"form-label",children:["Category",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsxs)(C.b,{as:"select",className:"form-select",id:"category",name:"category",children:[Object(N.jsx)("option",{value:"Uncategorized",children:"Uncategorized"}),Object(N.jsx)("option",{value:"Food & drinks",children:"Food & drinks"}),Object(N.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(N.jsx)("option",{value:"Beauty & cosmetics",children:"Beauty & cosmetics"}),Object(N.jsx)("option",{value:"Kitchen",children:"Kitchen"}),Object(N.jsx)("option",{value:"Clothings",children:"Clothings"}),Object(N.jsx)("option",{value:"Smartphones",children:"Smartphones"})]}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"category"})})]}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("label",{htmlFor:"stock",className:"form-label",children:["Stock quantity ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"stock",type:"number",className:"form-control"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"stock"})})]})]}),Object(N.jsxs)("div",{className:"mb-3 row",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("label",{htmlFor:"tags",className:"form-label",children:["Tags ",Object(N.jsx)("small",{children:"(comma separated)"})," ",Object(N.jsx)("span",{className:"text-danger",children:"*"})]}),Object(N.jsx)(C.b,{name:"tags",type:"text",className:"form-control",placeholder:"eg. chilled, summer, relaxing"}),Object(N.jsx)("div",{className:"error-message text-danger",children:Object(N.jsx)(C.a,{name:"tags"})})]}),Object(N.jsx)("div",{className:"col"})]}),Object(N.jsxs)("div",{className:"mb-3",children:[Object(N.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(N.jsx)(C.b,{as:"textarea",name:"description",id:"description",cols:"30",rows:"7",className:"form-control"})]}),Object(N.jsxs)("div",{className:"mt-4",children:[Object(N.jsx)("button",{type:"button",className:"btn btn-light btn-lg delete-btn w-100 border mb-2 text-secondary",children:"Delete this product"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-lg submit-btn w-100 border",disabled:b,children:b?"Updating product":"Update product"})]})]}),Object(N.jsxs)("div",{className:"col-7 right-form ",children:[Object(N.jsx)("h3",{className:"page-title text-center",children:"Product Images"}),Object(N.jsx)(ae,Object(s.a)(Object(s.a)({upload:!0,productImages:o.productImagesUploaded},e),{},{fileProp:function(e){n(e)}}))]})]})})]})}}))}function je(){var e=Object(y.i)().url,t=Object(a.useState)([]),c=Object(te.a)(t,2),r=c[0],n=c[1],l=Object(a.useState)({noOfResult:void 0,message:""}),d=Object(te.a)(l,2),o=d[0],j=d[1],b=Q(),m=b.data,h=b.isSuccess,O=b.isLoading,u=b.refetch,x=function(){var e=Object(ee.a)(Z.a.mark((function e(t){var c,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({noOfResult:void 0,message:""}),c=new RegExp("".concat(t,".*"),"gi"),e.next=4,m.filter((function(e){return c.test(e.name.toLowerCase())||c.test(e.description.toLowerCase())}));case 4:s=e.sent,j({noOfResult:s.length,message:s.length?"".concat(s.length," search results found for query '").concat(t,"'"):"No search results found for query ".concat(t)}),n(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=Object(a.useCallback)(Object(ie.debounce)(x,500),[m]);return h&&(m=m.data.details),O?Object(N.jsx)("h2",{children:"Loading..."}):Object(N.jsxs)(y.d,{children:[Object(N.jsx)(y.b,{path:"".concat(e,"/"),exact:!0,children:Object(N.jsxs)("div",{className:"display products p-3",children:[Object(N.jsxs)("div",{className:"row align-items-center",children:[Object(N.jsx)("div",{className:"col-3",children:Object(N.jsxs)("h2",{className:"page-title",children:["Products (",m&&m.length,")"]})}),Object(N.jsxs)("form",{className:"col-4 d-flex align-items-center",children:[Object(N.jsx)("label",{htmlFor:"search",className:"form-label m-0",children:"Search product : \xa0"}),Object(N.jsx)("input",{type:"search",className:"form-control form-control-sm w-auto",onChange:function(e){return p(e.target.value)}})]}),Object(N.jsxs)("form",{className:"col-4 category-filter d-flex align-items-center",children:[Object(N.jsx)("label",{htmlFor:"category",className:"form-label m-0",children:"Category : \xa0"}),Object(N.jsxs)("select",{className:"form-select form-select-sm w-50",id:"category",defaultValue:"all",onChange:function(e){return function(e){j({noOfResult:void 0,message:""});var t=m.filter((function(t){return t.category.includes(e)}));n(t),j({message:t.length?"".concat(t.length," search results found for category ").concat(e):"No search results found for category ".concat(e)})}(e.target.value)},children:[Object(N.jsx)("option",{value:"All",children:"All"}),Object(N.jsx)("option",{value:"Food & drinks",children:"Food & drinks"}),Object(N.jsx)("option",{value:"Electronics",children:"Electronics"}),Object(N.jsx)("option",{value:"Beauty & cosmetics",children:"Beauty & cosmetics"}),Object(N.jsx)("option",{value:"Kitchen",children:"Kitchen"}),Object(N.jsx)("option",{value:"Clothings",children:"Clothings"}),Object(N.jsx)("option",{value:"Smartphones",children:"Smartphones"})]})]}),Object(N.jsx)("div",{className:"col-1",children:Object(N.jsx)("button",{className:"refresh-button",onClick:function(){u()},title:"Refresh products",children:Object(N.jsx)(le.a,{})})})]}),Object(N.jsx)("hr",{}),Object(N.jsx)("p",{className:"p-1",children:o.message}),Object(N.jsxs)("div",{className:"products-list ",children:[Object(N.jsxs)(i.b,{to:"".concat(e,"/add"),className:"add-new-product-btn product",children:[Object(N.jsx)(ne.a,{className:"add-icon mb-4"}),Object(N.jsx)("h4",{children:"Add a new product"})]}),Object($.isEmptyArray)(r)?!Object($.isEmptyArray)(m)&&m.map((function(e){return Object(a.createElement)(ce,Object(s.a)(Object(s.a)({},e),{},{key:e._id}))})):r.map((function(e){return Object(a.createElement)(ce,Object(s.a)(Object(s.a)({},e),{},{key:e._id}))}))]})]})}),Object(N.jsx)(y.b,{path:"".concat(e,"/edit/:id"),component:oe}),Object(N.jsx)(y.b,{path:"".concat(e,"/add"),component:function(){return Object(N.jsx)(re,{})}})]})}c(294);var be=c(143),me=c(142),he=c(144),Oe=c(145),ue=c(146);function xe(){var e=Object(y.i)().url;return Object(N.jsxs)("div",{className:"sidebar",children:[Object(N.jsx)("h3",{className:"text-center pt-4 px-0 sidebar-title",children:"Shopy Admin Panel"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("ul",{className:"sidebar-nav",children:[Object(N.jsxs)("div",{className:"navs",children:[Object(N.jsx)(i.b,{to:"".concat(e,"/dashboard"),children:Object(N.jsxs)("li",{className:"sidebar-nav-item",children:[Object(N.jsx)(A.b,{className:"sidebar-icon"}),"\xa0 Dashboard"]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(i.b,{to:"".concat(e,"/products"),children:Object(N.jsxs)("li",{className:"sidebar-nav-item",children:[Object(N.jsx)(me.a,{className:"sidebar-icon"}),"\xa0 Products"]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(i.b,{to:"".concat(e,"/orders"),children:Object(N.jsxs)("li",{className:"sidebar-nav-item",children:[" ",Object(N.jsx)(be.a,{className:"sidebar-icon"}),"\xa0 Orders"]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(i.b,{to:"".concat(e,"/customers"),children:Object(N.jsxs)("li",{className:"sidebar-nav-item",children:[" ",Object(N.jsx)(he.a,{className:"sidebar-icon"}),"\xa0 Customers"]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(i.b,{to:"".concat(e,"/employees"),children:Object(N.jsxs)("li",{className:"sidebar-nav-item",children:[" ",Object(N.jsx)(Oe.a,{className:"sidebar-icon"}),"\xa0 Employees"]})})]}),Object(N.jsx)("div",{className:"extend"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("li",{className:"sidebar-nav-item logout-btn",children:[Object(N.jsx)(ue.a,{className:"sidebar-icon"}),"\xa0 Logout"]})]})]})}c(295);function pe(){var e=Object(y.i)().url;return Object(N.jsx)(B,{onlyFor:["A","E"],children:Object(N.jsxs)("div",{className:"admin",children:[Object(N.jsx)(xe,{}),Object(N.jsx)("div",{className:"display-area card",children:Object(N.jsxs)(y.d,{children:[Object(N.jsx)(y.b,{path:"".concat(e,"/"),exact:!0,component:Y}),Object(N.jsx)(y.b,{path:"".concat(e,"/dashboard"),component:Y}),Object(N.jsx)(y.b,{path:"".concat(e,"/products"),component:je}),Object(N.jsx)(y.b,{path:"".concat(e,"/orders"),component:X}),Object(N.jsx)(y.b,{path:"".concat(e,"/customers"),component:z}),Object(N.jsx)(y.b,{path:"".concat(e,"/employees"),component:J}),Object(N.jsx)(y.b,{path:"".concat(e,"/*"),render:function(){}})]})})]})})}var ge=c(48),ve=["component"];function Ne(e){var t=e.component,c=Object(G.a)(e,ve),r=Object(a.useContext)(v).isUserLoggedIn;return Object(N.jsx)(y.b,Object(s.a)(Object(s.a)({},c),{},{render:function(e){return r?Object(N.jsx)(t,{}):Object(N.jsx)(y.a,{to:{pathname:"/login",state:{prevLocation:e.location}}})}}))}var fe=function(){var e=Object(ge.d)(),t=Object(b.b)(),c=Object(b.c)((function(e){return e.common})).cartExpanded,s=Object(b.c)((function(e){return e.alert})),r=s.type,n=s.message,l="true"===sessionStorage.getItem("isUserLoggedIn")||"true"===u.a.get("isUserLoggedIn"),d=Object(a.useRef)(!0);Object(a.useEffect)((function(){if(d.current)d.current=!1;else if(r&&n)switch(r){case"SUCCESS":return e.success(n,{onClose:function(){t({type:m.CLEAR})}});case"ERROR":return e.error(n,{onClose:function(){t({type:m.CLEAR})}});default:return e.info(n,{onClose:function(){t({type:m.CLEAR})}})}}),[r,n]);var o=Object(x.useQuery)("categories",(function(){return g.a.get("/product/categories")})),j=o.isSuccess,O=o.data;return j&&(O=O.data.details),Object(N.jsx)(v.Provider,{value:{isUserLoggedIn:l,categories:O},children:Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(i.a,{children:[Object(N.jsx)(f,{}),Object(N.jsxs)("div",{className:"body",onScroll:function(){t(h())},children:[Object(N.jsx)(F,{}),c&&Object(N.jsx)("div",{className:"backdrop"}),Object(N.jsxs)(y.d,{children:[Object(N.jsx)(y.b,{path:"/",exact:!0,component:H}),Object(N.jsx)(y.b,{path:"/register",component:R}),Object(N.jsx)(y.b,{path:"/login",component:k}),Object(N.jsx)(Ne,{path:"/admin",component:pe}),Object(N.jsxs)(y.b,{path:"*",children:[Object(N.jsx)("h1",{children:"Error 404! Page Not found "}),";"]})]})]}),Object(N.jsx)(K,{})]})})})},ye=c(45),Se=c(147),Ee=c(7),Ce=Ee.SUCCESS,we=Ee.ERROR,Re=Ee.CLEAR,ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(s.a)(Object(s.a)({},e),{},{type:"SUCCESS",message:t.payload});case we:return Object(s.a)(Object(s.a)({},e),{},{type:"ERROR",message:t.payload});case Re:return Object(s.a)(Object(s.a)({},e),{},{type:null,message:""});default:return e}},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartExpanded:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.CART_EXPAND:return Object(s.a)(Object(s.a)({},e),{},{cartExpanded:!0});case m.CART_COLLAPSE:return Object(s.a)(Object(s.a)({},e),{},{cartExpanded:!1});case m.TOGGLE_CART:return Object(s.a)(Object(s.a)({},e),{},{cartExpanded:!e.cartExpanded});default:return e}},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],isFetched:null,categories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.GET_ALL_PRODUCTS_SUCCESS:return Object(s.a)(Object(s.a)({},e),{},{products:t.payload,isFetched:t.isFetched});case m.GET_ALL_PRODUCTS_FAIL:return Object(s.a)(Object(s.a)({},e),{},{isFetched:t.isFetched});case m.PRODUCT_CREATE_SUCCESS:case m.PRODUCT_CREATE_FAIL:return e;case m.CATEGORIES_FETCH_SUCCESS:return Object(s.a)(Object(s.a)({},e),{},{categories:t.payload});case m.CATEGORIES_FETCH_FAIL:default:return e}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isUserLoggedIn:!1,r:"C",details:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.REGISTER_SUCCESS:case m.REGISTER_FAIL:return Object(s.a)(Object(s.a)({},e),{},{details:t.payload});case m.LOGIN_SUCCESS:return Object(s.a)(Object(s.a)({},e),{},{isUserLoggedIn:!0});case m.LOGIN_FAIL:return Object(s.a)(Object(s.a)({},e),{},{isUserLoggedIn:!1});case m.LOGOUT:return{isUserLoggedIn:!1,r:"C",details:null};case m.ROLE:return Object(s.a)(Object(s.a)({},e),{},{r:t.payload});default:return e}},_e=Object(ye.combineReducers)({common:Le,user:Fe,alert:ke,product:Ae}),Ie=[c(148).a],Te=Object(ye.createStore)(_e,Object(Se.composeWithDevTools)(ye.applyMiddleware.apply(void 0,Ie))),Ue=c(149);g.a.defaults.baseURL="https://abhishekram404-shopy.herokuapp.com/api/",g.a.defaults.withCredentials=!0;var Pe={position:ge.b.BOTTOM_LEFT,timeout:5e3,offset:"8px",transition:ge.c.FADE},De=new x.QueryClient;l.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(x.QueryClientProvider,{client:De,children:Object(N.jsx)(b.a,{store:Te,children:Object(N.jsx)(ge.a,Object(s.a)(Object(s.a)({template:Ue.a},Pe),{},{children:Object(N.jsx)(fe,{})}))})})}),document.getElementById("root"))},46:function(e,t){e.exports.isEmptyArray=function(e){return 0===e.length}},7:function(e,t,c){"use strict";c.r(t),c.d(t,"CART_EXPAND",(function(){return s})),c.d(t,"CART_COLLAPSE",(function(){return a})),c.d(t,"TOGGLE_CART",(function(){return r})),c.d(t,"REGISTER_SUCCESS",(function(){return n})),c.d(t,"REGISTER_FAIL",(function(){return l})),c.d(t,"LOGIN_SUCCESS",(function(){return i})),c.d(t,"LOGIN_FAIL",(function(){return d})),c.d(t,"LOGOUT",(function(){return o})),c.d(t,"SUCCESS",(function(){return j})),c.d(t,"ERROR",(function(){return b})),c.d(t,"CLEAR",(function(){return m})),c.d(t,"ROLE",(function(){return h})),c.d(t,"GET_ALL_PRODUCTS_SUCCESS",(function(){return O})),c.d(t,"GET_ALL_PRODUCTS_FAIL",(function(){return u})),c.d(t,"PRODUCT_CREATE_SUCCESS",(function(){return x})),c.d(t,"PRODUCT_CREATE_FAIL",(function(){return p})),c.d(t,"CATEGORIES_FETCH_SUCCESS",(function(){return g})),c.d(t,"CATEGORIES_FETCH_FAIL",(function(){return v}));var s="CART_EXPAND",a="CART_COLLAPSE",r="TOGGLE_CART",n="REGISTER_SUCCESS",l="REGISTER_FAIL",i="LOGIN_SUCCESS",d="LOGIN_FAIL",o="LOGOUT",j="SUCCESS",b="ERROR",m="CLEAR",h="ROLE",O="GET_ALL_PRODUCTS_SUCCESS",u="GET_ALL_PRODUCTS_FAIL",x="PRODUCT_CREATE_SUCCESS",p="PRODUCT_CREATE_FAIL",g="CATEGORIES_FETCH_SUCCESS",v="CATEGORIES_FETCH_FAIL"}},[[296,1,2]]]);
//# sourceMappingURL=main.f333fb88.chunk.js.map